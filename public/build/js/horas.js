!function(){if(document.querySelector("#horas")){let c={fecha:""};const t=document.querySelectorAll('[name="fecha"]'),o=document.querySelector('[name="horaId"]');function a(a){c[a.target.name]=a.target.value,o.value="";const t=document.querySelector(".hora--seleccionada");t&&t.classList.remove("hora--seleccionada"),Object.values(c).includes("")||async function(){const{fecha:a}=c,t="/api/citas-horas?fecha="+a,o=await fetch(t);!function(a){const c=document.querySelectorAll("#horas li");c.forEach(a=>a.classList.add("hora--desabilitada"));const t=a.map(a=>a.horaId),o=Array.from(c);o.filter(a=>!t.includes(a.dataset.horaId)).forEach(a=>a.classList.remove("hora--desabilitada"));document.querySelectorAll("#horas li:not(.hora--desabilitada)").forEach(a=>a.addEventListener("click",e))}(await o.json())}()}function e(a){const e=document.querySelector(".hora--seleccionada");e&&e.classList.remove("hora--seleccionada"),a.target.classList.add("hora--seleccionada"),o.value=a.target.dataset.horaId}t.forEach(e=>e.addEventListener("change",a))}}();